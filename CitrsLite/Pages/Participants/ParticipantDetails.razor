@page "/participant/details/{Id:int}"
@using CitrsLite.Business.Services;
@using CitrsLite.Business.ViewModels.ParticipantViewModels;
@inject ParticipantService ParticipantService;
<MudContainer MaxWidth="MaxWidth.Small" Class="ma-3" >
    <MudCard Elevation="3">
        <MudCardHeader>
            <MudText Typo="Typo.h3">@Model.Name</MudText>
        </MudCardHeader>
        <MudCardContent>
            <MudList>
                <MudListSubheader>Information</MudListSubheader>
                <MudListItem><strong>Type: </strong> @Model.Type</MudListItem>
                <MudListItem><strong>City: </strong> @Model.City</MudListItem>
                <MudListItem><strong>Phone: </strong> @Model.PhoneNumber</MudListItem>
            </MudList>
            <MudText Typo="Typo.body1">
                @Model.Description
            </MudText>
        </MudCardContent>
        <MudDivider></MudDivider>
        <MudCardActions>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="@($"Participant/Edit/{Id}")" >Edit</MudButton>
        </MudCardActions>
    </MudCard>
</MudContainer>
@code {

    [Inject]
    public ParticipantDetailsViewModel Model { get; set; }    

    [Parameter]
    public int Id { get; set; }

    protected override async Task OnInitializedAsync() => Model = await ParticipantService.DetailsAsync(Id);
}
